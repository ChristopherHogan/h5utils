.\" Copyright (c) 1999, 2000 Massachusetts Institute of Technology
.\" 
.\" Permission is hereby granted, free of charge, to any person obtaining
.\" a copy of this software and associated documentation files (the
.\" "Software"), to deal in the Software without restriction, including
.\" without limitation the rights to use, copy, modify, merge, publish,
.\" distribute, sublicense, and/or sell copies of the Software, and to
.\" permit persons to whom the Software is furnished to do so, subject to
.\" the following conditions:
.\" 
.\" The above copyright notice and this permission notice shall be
.\" included in all copies or substantial portions of the Software.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
.\" EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
.\" MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
.\" IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
.\" CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
.\" TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
.\" SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
.\"
.TH H5TOPNG 1 "November 21, 1999" "h5utils" "h5utils"
.SH NAME
h5topng \- generate PNG images from 2d slices of HDF5 files
.SH SYNOPSIS
.B h5topng
[\fIOPTION\fR]... [\fIHDF5FILE\fR]...
.SH DESCRIPTION
.PP
." Add any additional description here
h5topng is a utility to generate images in PNG (Portable Network Graphics)
format from two-dimensional slices of datasets in HDF5 files.  It is
designed for quick-and-dirty visualization of scientific data, and for
batch processing thereof via shell scripts.

HDF5 is a free, portable binary format and supporting library developed
by the National Center for Supercomputing Applications at the University
of Illinois in Urbana-Champaign.  A single
.I h5
file can contain multiple data sets; by default,
.I h5topng
takes the first dataset, but this can be changed via the
.B -d
option, or by using the syntax \fIHDF5FILE:DATASET\fR.

For a three-dimensional data set, the xy slice at z index zero is extracted
by default, but other slices can be extracted using the
.B -xyz
options.  Yet more options control things like the colormap and
magnification.  Still, the most basic usage is something like
\'h5topng foo.h5\', which will output a file foo.png containing an image
from the data in foo.h5.
.SH OPTIONS
.TP
.B -h
Display help on the command-line options and usage.
.TP
.B -V
Print the version number and copyright info for h5topng.
.TP
.B -v
Verbose output.  This output includes the minimum and maximum values
encountered in the data, which is useful to know for the
.B -mM
options.
.TP
\fB\-o\fR \fIfile\fR
Send PNG output to
.I file
rather than to the filename with .h5 replaced with .png (the default).
.TP
\fB\-x\fR \fIix\fR, \fB\-y\fR \fIiy\fR, \fB\-z\fR \fIiz\fR
This tells
.I h5topng
to use a particular slice of a two- or three-dimensional dataset.  e.g.
.B -x
causes a yz plane to be used at an x index of
.I ix
(where the indices run from zero to one less than the maximum index in
that direction).  The default behaviour is equivalent to
.B -z
0.
.TP
\fB\-X\fR \fIscalex\fR, \fB\-Y\fR \fIscaley\fR
Scale the x and y dimensions by
.I scalex
and
.I scaley
respectively.  The default is to use scale factors of 1.0;
i.e. the image has the same dimensions (in pixels) as the data.  Linear
interpolation is used to fill in the pixels when the scale factors are
not 1.0.
.TP
\fB\-s\fR \fIskewangle\fR
Skew the image by
.I skewangle
(in degrees) to the left or right.  The result is a parallelogram, with
the leftover space in the (square) image filled with either black or white
pixels, depending upon the color map.
.TP
.B -T
Transpose the data (interchange the image axes).  By default, no
transposition is done.
.B -c
Use a color map going from blue to white to red, with white in the center,
instead of the default color map which is a grayscale ramp from white to
black.  If you use the
.B -c
option, you may also want to use the
.B -mM
options so that the center of the color scale (white) corresponds to
something like zero (if your data consists of positive and negative
values).  In this case, you would want to use values of equal magnitude
and opposite sign for the parameters to the
.B -m
and 
.B -M
options.  See also the
.B -Z
option.
.TP -r
Reverse the ordering of the color map.
.TP -Z
Center the color scale on the value zero in the data.
.TP
\fB\-m\fR \fImin\fR, \fB\-M\fR \fImax\fR
Normally, the bottom and top of the color map correspond to the
minimum and maximum values in the data.  Using these options, you
can make the bottom and top of the color map correspond to
.I min
and
.I max
instead.  Data values below or above this range will be treated as if
they were
.I min
or
.I max
respectively.
.TP
\fB\-C\fR \fIfile\fR, \fB\-b\fR \fIval\fR
Superimpose contour outlines from the first dataset in the
.I file
HDF5 file, which should have the same dimensions as the input
dataset, on all of the output images.  You can use the syntax
.I file:dataset
to specify a particular dataset within the file.  The contour outlines
are around values that differ from
.I val
(default 1.0).
.TP
\fB\-d\fR \fIname\fR
Use dataset
.I name
from the input files; otherwise, the first dataset from each file is used.
Alternatively, use the syntax \fIHDF5FILE:DATASET\fR, which allows you
to specify a different dataset for each file.
You can use the
.I h5ls
command (included with hdf5) to find the names of datasets within a file.
.SH BUGS
Send bug reports to S. G. Johnson, stevenj@alum.mit.edu.
.SH AUTHORS
Written by Steven G. Johnson.  Copyright (c) 1999, 2000 by the Massachusetts
Institute of Technology.
